<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Gestion des Sections</title>
    <link href="style/gestion-section.css" rel="stylesheet">
   
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <div id="navbar-container"></div>
        
        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <h1 class="page-title">Gestion des Sections</h1>
            </div>
            
            <div class="card">
                <h2 class="card-title">Mes Sections</h2>
                
                <div class="search-section">
                    <div class="search-box">
                        <input type="text" placeholder="Rechercher une section...">
                        <button>üîç</button>
                    </div>
                </div>
                
                <div class="sections-list">
                    <div class="section-item">
                        <div class="section-info">
                            <div class="section-name">Informatique - Section B</div>
                            <div class="section-details">Module: Algorithmique | Semestre 2</div>
                        </div>
                        <div class="student-count">28 √©tudiants</div>
                        <div class="section-actions">
                            <button class="btn btn-secondary" onclick="toggleStudents('section1')">Voir √©tudiants</button>
                            <button class="btn btn-primary">G√©rer</button>
                        </div>
                    </div>
                    
                    <div class="student-panel" id="section1-students">
                        <div class="panel-header">
                            <div class="panel-title">√âtudiants - Informatique Section B</div>
                            <button class="btn btn-secondary" onclick="toggleStudents('section1')">Fermer</button>
                        </div>
                        <div class="student-list">
                            <div class="student-item">
                                <div class="student-name">Ahmed Saidi</div>
                                <div class="student-group">TD3 / TP2</div>
                            </div>
                            <div class="student-item">
                                <div class="student-name">Fatima Benali</div>
                                <div class="student-group">TD1 / TP3</div>
                            </div>
                            <div class="student-item">
                                <div class="student-name">Karim Hadj</div>
                                <div class="student-group">TD2 / TP1</div>
                            </div>
                            <div class="student-item">
                                <div class="student-name">Lina Mansouri</div>
                                <div class="student-group">TD3 / TP2</div>
                            </div>
                            <div class="student-item">
                                <div class="student-name">Yacine Boudiaf</div>
                                <div class="student-group">TD1 / TP1</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="section-item">
                        <div class="section-info">
                            <div class="section-name">Informatique - Section A</div>
                            <div class="section-details">Module: Algorithmique | Semestre 2</div>
                        </div>
                        <div class="student-count">32 √©tudiants</div>
                        <div class="section-actions">
                            <button class="btn btn-secondary" onclick="toggleStudents('section2')">Voir √©tudiants</button>
                            <button class="btn btn-primary">G√©rer</button>
                        </div>
                    </div>
                    
                    <div class="student-panel" id="section2-students">
                        <div class="panel-header">
                            <div class="panel-title">√âtudiants - Informatique Section A</div>
                            <button class="btn btn-secondary" onclick="toggleStudents('section2')">Fermer</button>
                        </div>
                        <div class="student-list">
                            <div class="student-item">
                                <div class="student-name">Mohamed Amin</div>
                                <div class="student-group">TD1 / TP2</div>
                            </div>
                            <div class="student-item">
                                <div class="student-name">Sarah Haddad</div>
                                <div class="student-group">TD2 / TP3</div>
                            </div>
                            <div class="student-item">
                                <div class="student-name">Omar Bennani</div>
                                <div class="student-group">TD1 / TP1</div>
                            </div>
                            <div class="student-item">
                                <div class="student-name">Amina Kadi</div>
                                <div class="student-group">TD3 / TP2</div>
                            </div>
                            <div class="student-item">
                                <div class="student-name">Tarik Sahraoui</div>
                                <div class="student-group">TD2 / TP1</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="section-item">
                        <div class="section-info">
                            <div class="section-name">Math√©matiques - Section C</div>
                            <div class="section-details">Module: Alg√®bre | Semestre 2</div>
                        </div>
                        <div class="student-count">25 √©tudiants</div>
                        <div class="section-actions">
                            <button class="btn btn-secondary" onclick="toggleStudents('section3')">Voir √©tudiants</button>
                            <button class="btn btn-primary">G√©rer</button>
                        </div>
                    </div>
                    
                    <div class="student-panel" id="section3-students">
                        <div class="panel-header">
                            <div class="panel-title">√âtudiants - Math√©matiques Section C</div>
                            <button class="btn btn-secondary" onclick="toggleStudents('section3')">Fermer</button>
                        </div>
                        <div class="student-list">
                            <div class="student-item">
                                <div class="student-name">Nadir Meziane</div>
                                <div class="student-group">TD2 / TP3</div>
                            </div>
                            <div class="student-item">
                                <div class="student-name">Yasmine Taleb</div>
                                <div class="student-group">TD1 / TP2</div>
                            </div>
                            <div class="student-item">
                                <div class="student-name">Riad Belhadj</div>
                                <div class="student-group">TD3 / TP1</div>
                            </div>
                            <div class="student-item">
                                <div class="student-name">Nour Bouzidi</div>
                                <div class="student-group">TD1 / TP1</div>
                            </div>
                            <div class="student-item">
                                <div class="student-name">Salim Khaldi</div>
                                <div class="student-group">TD2 / TP2</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", async function () {
        // Load navigation
        fetch("enseignant-nav.html")
            .then((response) => response.text())
            .then((html) => {
            document.getElementById("navbar-container").innerHTML = html;
            // Mark active link after loading
            const navScript = document.createElement("script");
            navScript.innerHTML = `
                document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if(link.getAttribute('href') === '${window.location.pathname.split("/").pop()}') {
                    link.classList.add('active');
                }
                });
            `;
            document.body.appendChild(navScript);
            })
            .catch((error) => {
            console.error("Error loading navigation:", error);
            });

        // Donn√©es de d√©monstration
        currentUser = {
            id: "demo-teacher",
            email: "demo@univ.edu"
        };

        try {
            await loadUserData();
            await loadDashboardData();
        } catch (error) {
            console.error("Error loading data:", error);
            loadFallbackData();
        }
        });
        // JavaScript simple pour afficher/cacher la liste des √©tudiants
        function toggleStudents(sectionId) {
            const studentPanel = document.getElementById(sectionId + '-students');
            if (studentPanel.style.display === 'block') {
                studentPanel.style.display = 'none';
            } else {
                studentPanel.style.display = 'block';
            }
        }
    </script>
</body>
</html>